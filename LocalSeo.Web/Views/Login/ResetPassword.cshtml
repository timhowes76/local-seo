@model ResetPasswordRequestModel
@{
    ViewData["Title"] = "Reset Password";
    var message = (string?)ViewBag.Message;
    var brandLogoPath = string.Equals(Context.Request.Cookies["theme"], "dark=1", StringComparison.Ordinal)
        ? "/assets/images/dark-logo.svg"
        : "/assets/images/logo.svg";
}
<div class="login-card card">
    <div class="login-brand">
        <img class="login-brand-logo" src="@brandLogoPath" alt="Kontrolit" />
        <h2 class="card-title">Reset Password</h2>
    </div>

    @if (!string.IsNullOrWhiteSpace(message))
    {
        <div class="notice">@message</div>
    }

    <p class="muted">Enter the email, code, and your new password.</p>
    <form method="post" action="/reset-password" class="form-grid">
        @Html.AntiForgeryToken()
        <input type="hidden" name="Rid" value="@Model.Rid" />
        <div class="form-row">
            <label for="reset-email-input">Email</label>
            <input id="reset-email-input" name="Email" type="email" value="@Model.Email" autocomplete="email" required />
        </div>
        <div class="form-row">
            <label for="reset-code-input">6-digit code</label>
            <input id="reset-code-input" name="Code" type="text" value="@Model.Code" inputmode="numeric" pattern="[0-9]{6}" maxlength="6" autocomplete="one-time-code" required />
        </div>
        <div class="form-row">
            <label for="new-password-input">New password</label>
            @await Html.PartialAsync("_PasswordInput", new PasswordInputModel
            {
                Id = "new-password-input",
                Name = "NewPassword",
                Autocomplete = "new-password",
                Required = true
            })
        </div>
        <div class="form-row">
            <label for="confirm-password-input">Confirm password</label>
            @await Html.PartialAsync("_PasswordInput", new PasswordInputModel
            {
                Id = "confirm-password-input",
                Name = "ConfirmPassword",
                Autocomplete = "new-password",
                Required = true
            })
        </div>
        <div class="login-actions">
            <button type="submit">Reset password</button>
        </div>
    </form>
    <p class="muted"><a href="/login">Back to login</a></p>
</div>
