@model AdminSiteSettingsModel
@{
    ViewData["Title"] = "Site Settings";
    var statusMessage = TempData["Status"] as string;
}

<div class="page-stack">
    @if (!string.IsNullOrWhiteSpace(statusMessage))
    {
        <div class="notice">@statusMessage</div>
    }

    <section class="card">
        <div class="card-header">
            <h2 class="card-title">Site</h2>
            <a class="btn btn-secondary" href="/admin/settings">Back to Settings</a>
        </div>

        <form method="post" action="/admin/settings/site" class="form-grid">
            @Html.AntiForgeryToken()

            <div class="form-row">
                <label for="SiteUrl">Site URL</label>
                <input id="SiteUrl" name="SiteUrl" type="url" maxlength="500" value="@Model.SiteUrl" />
                @Html.ValidationMessage(nameof(Model.SiteUrl))
            </div>

            <div class="form-row">
                <label for="SendGridEventWebhookUrl">SendGrid Event Webhook URL</label>
                <input id="SendGridEventWebhookUrl" type="text" value="@Model.SendGridEventWebhookUrl" readonly />
                <small class="muted">Use this exact URL in SendGrid Event Webhook settings.</small>
            </div>

            <div class="toolbar">
                <button type="submit">Save Settings</button>
            </div>
        </form>
    </section>
</div>
